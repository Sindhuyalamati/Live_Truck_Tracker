# Live Truck Tracker

A real-time truck tracking application that displays live location data from the Optimus Tracking API, using Supabase for data storage.

## Features

- Real-time truck location tracking
- Automatic data refresh every 10 minutes
- Clean and responsive UI
- Supabase database for data persistence

## Prerequisites

- Node.js (v14 or higher)
- Supabase account
- Optimus Tracking API credentials (API Key and Client ID)

## Setup

### Supabase Setup

1. Create a new Supabase project at https://supabase.com
2. Once your project is created, go to the SQL editor
3. Create the tracker_data table by running this SQL:

```sql
CREATE TABLE tracker_data (
    id BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    tracker_id VARCHAR(50) NOT NULL,
    location VARCHAR(255) NOT NULL,
    speed DECIMAL(10,2),
    status VARCHAR(50),
    last_update TIMESTAMP WITH TIME ZONE NOT NULL,
    created_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP
);

CREATE INDEX idx_tracker_id ON tracker_data(tracker_id);
CREATE INDEX idx_last_update ON tracker_data(last_update);
```

4. Get your Supabase URL and anon key from Project Settings > API

### Backend Setup

1. Navigate to the backend directory:
   ```bash
   cd backend
   ```

2. Install dependencies:
   ```bash
   npm install
   ```

3. Create a `.env` file in the backend directory with the following variables:
   ```
   OPTIMUS_API_KEY=your_api_key_here
   OPTIMUS_CLIENT_ID=your_client_id_here
   OPTIMUS_API_URL=your_api_endpoint_here
   SUPABASE_URL=your_supabase_project_url
   SUPABASE_ANON_KEY=your_supabase_anon_key
   PORT=5000
   ```

4. Start the backend server:
   ```bash
   npm run dev
   ```

### Frontend Setup

1. Navigate to the frontend directory:
   ```bash
   cd frontend
   ```

2. Install dependencies:
   ```bash
   npm install
   ```

3. Start the frontend development server:
   ```bash
   npm start
   ```

The application will be available at `http://localhost:3000`

## Usage

1. Ensure both backend and frontend servers are running
2. Open your browser and navigate to `http://localhost:3000`
3. The tracker data will automatically refresh every 10 minutes
4. The table displays:
   - Tracker ID
   - Current Location
   - Speed
   - Status
   - Last Update Time

## Technologies Used

- Frontend:
  - React
  - Material-UI
  - Axios

- Backend:
  - Node.js
  - Express
  - Supabase
  - node-cron

## License

MIT 